"use strict";(self["webpackChunkonrr_frontend_app_vue"]=self["webpackChunkonrr_frontend_app_vue"]||[]).push([[567],{1884:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"pt-4"},[t("v-card",[t("v-data-table",{attrs:{headers:e.headers,items:e.collectionItems,"item-key":"title"},scopedSlots:e._u([{key:"top",fn:function(){return[t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"6"}},[t("SelectField",{attrs:{fields:e.indexZonesInputField}})],1),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("MultipleSelectField",{attrs:{fields:e.indexZonesYearsInputField}})],1)],1)],1)]},proxy:!0},{key:"item.index_zone",fn:function(n){var t=n.item;return[e._v(" "+e._s(t.index_zone)+" ("+e._s(t.abbreviation)+") ")]}},{key:"item.year",fn:function(n){var t=n.item;return[e._v(" "+e._s(t.year)+" ")]}},{key:"item.month",fn:function(n){var t=n.item;return[e._v(" "+e._s(e.formatMonth(t.month))+" ")]}},{key:"item.price",fn:function(n){var t=n.item;return[e._v(" "+e._s(e.formatToDollarInt(t.price))+" ")]}}],null,!0)})],1)],1)},o=[],r=t(7174),s=(t(1539),t(8783),t(3948),t(1249),t(6699),t(2707),t(4747),t(4916),t(3123),t(8930)),l=function(){return Promise.all([t.e(921),t.e(248)]).then(t.bind(t,9571))},a=function(){return t.e(486).then(t.bind(t,1622))},d={name:"IndexZonesCollection",data:function(){return{indexZonesInputField:{items:[],label:"Index Zone",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"index_zone",clearable:!0},indexZonesYearsInputField:{items:[],label:"All Years",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"years"}}},props:{collection:[Array,Object]},components:{SelectField:l,MultipleSelectField:a},methods:{getMonth:s.jw,getYear:s.So,formatToDollarInt:s.Pl,formatMonth:function(e){return(0,s.jw)(e,"long")},formatYear:function(e){return(0,s.So)(e)},formatPrice:function(e){return(0,s.Pl)(e)},indexZonesList:function(){var e=[];this.collectionItems&&this.collectionItems.map((function(n){n.index_zone&&(e.includes(n.index_zone)||e.push(n.index_zone))})),this.indexZonesInputField.items=(0,r.Z)(e.sort())},indexZonesYearList:function(){var e=[];this.collectionItems&&this.collectionItems.map((function(n){n.year&&(e.includes(n.year)||e.push(n.year))})),this.indexZonesYearsInputField.items=(0,r.Z)(e.sort().reverse())},indexZonesFilter:function(e){return!this.indexZonesInputField.selected||null===this.indexZonesInputField.selected||0===this.indexZonesInputField.selected.length||e.toLowerCase()===this.indexZonesInputField.selected.toLowerCase()},indexZonesYearFilter:function(e){return!this.indexZonesYearsInputField.selected||null===this.indexZonesYearsInputField.selected||0===this.indexZonesYearsInputField.selected.length||this.indexZonesYearsInputField.selected.indexOf(e)>=0}},computed:{headers:function(){return[{text:"Index Zone",align:"start",sortable:!0,value:"index_zone",filter:this.indexZonesFilter},{text:"Year",align:"start",sortable:!0,value:"year",filter:this.indexZonesYearFilter},{text:"Month",align:"start",sortable:!1,value:"month"},{text:"Price",align:"end",sortable:!1,value:"price"}]},collectionItems:function(){var e=this,n=[];return this.collection&&this.collection.map((function(t){t.index_zones.forEach((function(i){var o={};o.index_zone=i.index_zone,o.year=e.formatYear(t.date),o.month=t.date,o.price=i.price,o.abbreviation=i.abbreviation,n.push(o)}))})),n}},created:function(){var e=this;setTimeout((function(){e.indexZonesList(),e.indexZonesYearList()}),300)},mounted:function(){var e=this.$route.query.index_zone,n=this.$route.query.years&&this.$route.query.years.split(",");this.indexZonesInputField.selected=e||null,this.indexZonesYearsInputField.selected=n||null}},c=d,u=t(1001),f=t(3453),h=t.n(f),p=t(9391),m=t(3121),x=t(6643),Z=t(9049),v=t(4722),I=(0,u.Z)(c,i,o,!1,null,null,null),_=I.exports;h()(I,{VCard:p.Z,VCol:m.Z,VContainer:x.Z,VDataTable:Z.Z,VRow:v.Z})}}]);
//# sourceMappingURL=IndexZones-legacy.e9b392ef.js.map