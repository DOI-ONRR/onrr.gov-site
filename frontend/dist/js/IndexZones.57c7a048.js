(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["IndexZones"],{"13db":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-4"},[n("v-card",[n("v-data-table",{attrs:{headers:e.headers,items:e.collectionItems,"item-key":"title"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("SelectField",{attrs:{fields:e.indexZonesInputField}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("MultipleSelectField",{attrs:{fields:e.indexZonesYearsInputField}})],1)],1)],1)]},proxy:!0},{key:"item.index_zone",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.index_zone)+" ("+e._s(n.abbreviation)+") ")]}},{key:"item.year",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.year)+" ")]}},{key:"item.month",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatMonth(n.month))+" ")]}},{key:"item.price",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatToDollarInt(n.price))+" ")]}}])})],1)],1)},o=[],r=n("2909"),s=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("caad"),n("4e827"),n("159b"),n("ac1f"),n("1276"),n("9944")),l=function(){return n.e("SelectField").then(n.bind(null,"a924"))},a=function(){return n.e("MultipleSelectField").then(n.bind(null,"ab0b"))},d={name:"IndexZonesCollection",data:function(){return{indexZonesInputField:{items:[],label:"Index Zone",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"index_zone",clearable:!0},indexZonesYearsInputField:{items:[],label:"All Years",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"years"}}},props:{collection:[Array,Object]},components:{SelectField:l,MultipleSelectField:a},methods:{getMonth:s["e"],getYear:s["f"],formatToDollarInt:s["a"],formatMonth:function(e){return Object(s["e"])(e,"long")},formatYear:function(e){return Object(s["f"])(e)},formatPrice:function(e){return Object(s["a"])(e)},indexZonesList:function(){var e=[];this.collectionItems&&this.collectionItems.map((function(t){t.index_zone&&(e.includes(t.index_zone)||e.push(t.index_zone))})),this.indexZonesInputField.items=Object(r["a"])(e.sort())},indexZonesYearList:function(){var e=[];this.collectionItems&&this.collectionItems.map((function(t){t.year&&(e.includes(t.year)||e.push(t.year))})),this.indexZonesYearsInputField.items=Object(r["a"])(e.sort().reverse())},indexZonesFilter:function(e){return!this.indexZonesInputField.selected||null===this.indexZonesInputField.selected||0===this.indexZonesInputField.selected.length||e.toLowerCase()===this.indexZonesInputField.selected.toLowerCase()},indexZonesYearFilter:function(e){return!this.indexZonesYearsInputField.selected||null===this.indexZonesYearsInputField.selected||0===this.indexZonesYearsInputField.selected.length||this.indexZonesYearsInputField.selected.indexOf(e)>=0}},computed:{headers:function(){return[{text:"Index Zone",align:"start",sortable:!0,value:"index_zone",filter:this.indexZonesFilter},{text:"Year",align:"start",sortable:!0,value:"year",filter:this.indexZonesYearFilter},{text:"Month",align:"start",sortable:!1,value:"month"},{text:"Price",align:"start",sortable:!1,value:"price"}]},collectionItems:function(){var e=this,t=[];return this.collection&&this.collection.map((function(n){n.index_zones.forEach((function(i){var o={};o.index_zone=i.index_zone,o.year=e.formatYear(n.date),o.month=n.date,o.price=i.price,o.abbreviation=i.abbreviation,t.push(o)}))})),t}},created:function(){var e=this;setTimeout((function(){e.indexZonesList(),e.indexZonesYearList()}),300)},mounted:function(){var e=this.$route.query.index_zone,t=this.$route.query.years&&this.$route.query.years.split(",");this.indexZonesInputField.selected=e||null,this.indexZonesYearsInputField.selected=t||null}},c=d,u=n("2877"),f=n("6544"),h=n.n(f),p=n("b0af"),x=n("62ad"),m=n("a523"),b=n("8fea"),v=n("0fd9"),I=Object(u["a"])(c,i,o,!1,null,null,null);t["default"]=I.exports;h()(I,{VCard:p["a"],VCol:x["a"],VContainer:m["a"],VDataTable:b["a"],VRow:v["a"]})}}]);
//# sourceMappingURL=IndexZones.57c7a048.js.map