{"version":3,"file":"js/NYMEXCollection-legacy.467b7682.js","mappings":"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","sources":["webpack://onrr-frontend-app-vue/./node_modules/core-js/modules/es.set.constructor.js","webpack://onrr-frontend-app-vue/./node_modules/core-js/modules/es.set.js","webpack://onrr-frontend-app-vue/./src/store.js","webpack://onrr-frontend-app-vue/./src/components/collections/NYMEX.vue?35e3","webpack://onrr-frontend-app-vue/src/components/collections/NYMEX.vue","webpack://onrr-frontend-app-vue/./src/components/collections/NYMEX.vue?f365","webpack://onrr-frontend-app-vue/./src/components/collections/NYMEX.vue"],"sourcesContent":["'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\ncollection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","// TODO: Remove this module from `core-js@4` since it's replaced to module below\nrequire('../modules/es.set.constructor');\n","import Vue from \"vue\"\n\nexport const store = Vue.observable({\n  collections: {\n    searchQuery: '',\n    year: new Date().getFullYear(),\n    queryParams: {}\n  },\n  queryParams: {\n    tabs: [],\n    panel: ''\n  }\n})\n\nexport const mutations = {\n  updateCollections(key, value) {\n    console.log('updateCollectionsSearchQuery --------> ', value)\n    store.collections[key] = value\n  },\n  updateQueryParams(key, value) {\n    console.log('updateQueryParams --------> ', value)\n    store.queryParams[key] = value\n  },\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.filteredCollection,\"item-key\":\"month\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"items\":_vm.years,\"value\":_vm.maxYear,\"label\":\"Year\",\"outlined\":\"\",\"dense\":\"\",\"color\":\"secondary\"},on:{\"change\":function($event){return _vm.onUpdateStore('year', $event)}}})],1)],1)],1)]},proxy:true},{key:\"item.date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.getMonth(item.date, 'long'))+\" \")]}},{key:\"item.average\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" $\"+_vm._s(_vm.roundHalfUp(item.average, 2))+\" \")]}},{key:\"item.roll\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" $\"+_vm._s(_vm.roundHalfUp(item.roll, 2))+\" \")]}},{key:\"item.Spreadsheet\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('a',{attrs:{\"href\":_vm.fileLink(item.Spreadsheet.filename_download)}},[_vm._v(\"Download\")]),_c('v-icon',{attrs:{\"color\":\"secondary ml-2\"}},[_vm._v(\"mdi-file-excel-box\")])]}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>  \n  <v-card>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"filteredCollection\"\n      item-key=\"month\">\n      <template v-slot:top>\n        <v-container>\n          <v-row>\n            <v-col cols=\"12\" sm=\"6\">\n              <v-select\n                :items=\"years\"\n                :value=\"maxYear\"\n                label=\"Year\"\n                outlined\n                dense\n                color=\"secondary\"\n                @change=\"onUpdateStore('year', $event)\" \n              ></v-select>\n            </v-col>\n          </v-row>\n        </v-container>\n      </template>\n      <template v-slot:[`item.date`]=\"{ item }\">\n        {{ getMonth(item.date, 'long') }}\n      </template>\n      <template v-slot:[`item.average`]=\"{ item }\">\n        ${{ roundHalfUp(item.average, 2) }}\n      </template>\n      <template v-slot:[`item.roll`]=\"{ item }\">\n        ${{ roundHalfUp(item.roll, 2) }}\n      </template>\n      <template v-slot:[`item.Spreadsheet`]=\"{ item }\">\n        <a :href=\"fileLink(item.Spreadsheet.filename_download)\">Download</a>\n        <v-icon color=\"secondary ml-2\">mdi-file-excel-box</v-icon>\n      </template>\n    </v-data-table>\n  </v-card>\n</template>\n\n<script>\nimport { store, mutations } from '@/store'\nimport {\n  getDay,\n  getMonth,\n  getFullDate,\n  getYear\n} from '@/js/utils'\n\nexport default {\n  name: 'NYMEXCollection',\n  data() {\n    return {\n      items: [],         \n      API: process.env.VUE_APP_API_URL\n    }\n  },\n  props: {\n    collection: [Object, Array],\n    collectionName: String,\n    collectionLayout: String,\n    showToolbar: Boolean,\n  },\n  components: {},\n  methods: {\n    fileLink(filename) {\n      let  link = `${ this.API }/document/${ filename }`  \n      return link\n    },\n    getDay: getDay,\n    getMonth: getMonth,\n    getFullDate: getFullDate,\n    getYear: getYear,\n    year() {\n      if(store.collections.year > this.maxYear ||  ! store.collections.year ) {\n      return this.maxYear\n      } else {\n       return   store.collections.year\n       }      \n    },\n    onUpdateStore(key, value) {\n      mutations.updateCollections(key, value)\n    },\n    roundHalfUp(value, decimals) {\n      return Number(Math.round(value+'e'+decimals)+'e-'+decimals).toFixed(decimals);\n    },\n},\n  computed: {\n    search() {\n      return store.collections.searchQuery\n    },\n    maxYear() {\n    if(this.collection) {\n      const max = [...new Set(this.collection.map(item => this.getYear(item.date)))].sort((a,b)=>a-b).pop();\n      return max\n    } else {\n      return 2022\n    }\n      \n    },\n    years() {\n    if(this.collection) {\n      const years = [...new Set(this.collection.map(item => this.getYear(item.date)))].sort((a,b)=>b-a);\n      return years;                \n    } else {\n      return []\n    }\n    },   \n    filteredCollection() {\n      if(this.collection) {\n      const year=this.year() \n\n        const filtered= this.collection && this.collection.filter( item => this.getYear(item.date) === year.toString() ).sort( (a, b) =>{\n          return new Date(a.date) - new Date(b.date)\n        });\n        return filtered\n      } else {\n        return []\n      }\n    },  \n    searchResults() {\n      // search input results\n\n      const results=this.collection.filter(item => parseInt(this.getYear(item.date)) === this.year).sort( (a, b) => b.date - a.date);\n      return results\n    },\n    headers() {\n      return [\n        { \n          text: 'Month',\n          value: 'date' \n        },\n        { \n          text: 'Calendar Month Avg.',\n          value: 'average',\n          align: 'end',\n        },\n        { \n          text: 'NYMEX Roll',\n          value: 'roll' ,\n          align: 'end',\n        },\n        { \n          text: 'Excel File',\n          value: 'Spreadsheet'\n        },\n      ]\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-39[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NYMEX.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-39[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NYMEX.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NYMEX.vue?vue&type=template&id=2a79dbc6&\"\nimport script from \"./NYMEX.vue?vue&type=script&lang=js&\"\nexport * from \"./NYMEX.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VCard,VCol,VContainer,VDataTable,VIcon,VRow,VSelect})\n"],"names":["collection","collectionStrong","init","this","arguments","length","undefined","store","Vue","collections","searchQuery","year","Date","getFullYear","queryParams","tabs","panel","mutations","updateCollections","key","value","console","log","updateQueryParams","render","_vm","_h","$createElement","_c","_self","attrs","headers","filteredCollection","scopedSlots","_u","fn","years","maxYear","on","$event","onUpdateStore","proxy","ref","item","_v","_s","getMonth","date","roundHalfUp","average","roll","fileLink","Spreadsheet","filename_download","staticRenderFns","name","data","items","API","props","Object","Array","collectionName","String","collectionLayout","showToolbar","Boolean","components","methods","filename","link","getDay","getFullDate","getYear","decimals","Number","Math","round","computed","search","a","b","filtered","searchResults","results","text","align","component","VCard"],"sourceRoot":""}