"use strict";(self["webpackChunkonrr_frontend_app_vue"]=self["webpackChunkonrr_frontend_app_vue"]||[]).push([[62],{2478:function(e,t,r){r.d(t,{P:function(){return a},h:function(){return o}});var n=r(144);const o=n.Z.observable({collections:{searchQuery:"",year:(new Date).getFullYear(),queryParams:{}},queryParams:{tabs:[],panel:""}}),a={updateCollections(e,t){console.log("updateCollectionsSearchQuery --------\x3e ",t),o.collections[e]=t},updateQueryParams(e,t){console.log("updateQueryParams --------\x3e ",t),o.queryParams[e]=t}}},8450:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-data-table",{attrs:{headers:e.headers,items:e.filteredCollection,"item-key":"month"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,value:e.maxYear,label:"Year",outlined:"",dense:"",color:"secondary"},on:{change:function(t){return e.onUpdateStore("year",t)}}})],1)],1)],1)]},proxy:!0},{key:"item.date",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.getMonth(r.date,"long"))+" ")]}},{key:"item.average",fn:function(t){var r=t.item;return[e._v(" $"+e._s(e.roundHalfUp(r.average,2))+" ")]}},{key:"item.roll",fn:function(t){var r=t.item;return[e._v(" $"+e._s(e.roundHalfUp(r.roll,2))+" ")]}},{key:"item.Spreadsheet",fn:function(t){var n=t.item;return[r("a",{attrs:{href:e.fileLink(n.Spreadsheet.filename_download)}},[e._v("Download")]),r("v-icon",{attrs:{color:"secondary ml-2"}},[e._v("mdi-file-excel-box")])]}}],null,!0)})],1)},o=[],a=r(2478),l=r(8930),i={name:"NYMEXCollection",data(){return{items:[],API:"https://dev-onrr-frontend.app.cloud.gov"}},props:{collection:[Object,Array],collectionName:String,collectionLayout:String,showToolbar:Boolean},components:{},methods:{fileLink(e){let t=`${this.API}/document/${e}`;return t},getDay:l.wf,getMonth:l.jw,getFullDate:l.xE,getYear:l.So,year(){return a.h.collections.year>this.maxYear||!a.h.collections.year?this.maxYear:a.h.collections.year},onUpdateStore(e,t){a.P.updateCollections(e,t)},roundHalfUp(e,t){return Number(Math.round(e+"e"+t)+"e-"+t).toFixed(t)}},computed:{search(){return a.h.collections.searchQuery},maxYear(){if(this.collection){const e=[...new Set(this.collection.map((e=>this.getYear(e.date))))].sort(((e,t)=>e-t)).pop();return e}return 2022},years(){if(this.collection){const e=[...new Set(this.collection.map((e=>this.getYear(e.date))))].sort(((e,t)=>t-e));return e}return[]},filteredCollection(){if(this.collection){const e=this.year(),t=this.collection&&this.collection.filter((t=>this.getYear(t.date)===e.toString())).sort(((e,t)=>new Date(e.date)-new Date(t.date)));return t}return[]},searchResults(){const e=this.collection.filter((e=>parseInt(this.getYear(e.date))===this.year)).sort(((e,t)=>t.date-e.date));return e},headers(){return[{text:"Month",value:"date"},{text:"Calendar Month Avg.",value:"average",align:"end"},{text:"NYMEX Roll",value:"roll",align:"end"},{text:"Excel File",value:"Spreadsheet"}]}}},s=i,c=r(1001),u=r(3453),d=r.n(u),h=r(9391),f=r(3121),p=r(6643),m=r(9049),v=r(9639),y=r(4722),g=r(1921),_=(0,c.Z)(s,n,o,!1,null,null,null),x=_.exports;d()(_,{VCard:h.Z,VCol:f.Z,VContainer:p.Z,VDataTable:m.Z,VIcon:v.Z,VRow:y.Z,VSelect:g.Z})}}]);
//# sourceMappingURL=NYMEXCollection.728cf64c.js.map