"use strict";(self["webpackChunkonrr_frontend_app_vue"]=self["webpackChunkonrr_frontend_app_vue"]||[]).push([[883],{749:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-4"},[a("v-card",[a("v-data-table",{attrs:{headers:e.headers,items:e.collectionItems,"item-key":"title"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("SelectField",{attrs:{fields:e.designatedAreaInputField}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("MultipleSelectField",{attrs:{fields:e.ibmpYearsInputField}})],1)],1)],1)]},proxy:!0},{key:"item.designatedArea",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.designatedArea)+" ")]}},{key:"item.year",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.year)+" ")]}},{key:"item.month",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatMonth(a.month))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatToDollarInt(a.price))+" ")]}}],null,!0)})],1)],1)},s=[],r=(a(6699),a(8930));const i=()=>Promise.all([a.e(921),a.e(248)]).then(a.bind(a,2627)),n=()=>a.e(486).then(a.bind(a,1622));var o={name:"IndexZonesCollection",data:()=>({designatedAreaInputField:{items:[],label:"All Areas",ref:"designatedAreaSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"designated_area",clearable:!0},ibmpYearsInputField:{items:[],label:"All Years",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"years"}}),props:{collection:[Array,Object]},components:{SelectField:i,MultipleSelectField:n},methods:{getMonth:r.jw,getYear:r.So,formatToDollarInt:r.Pl,formatMonth(e){return(0,r.jw)(e,"long")},formatYear(e){return(0,r.So)(e)},formatPrice(e){return(0,r.Pl)(e)},designatedAreaList(){let e=[];this.collectionItems&&this.collectionItems.map((t=>{t.designatedArea&&(e.includes(t.designatedArea)||e.push(t.designatedArea))})),this.designatedAreaInputField.items=[...e.sort()]},yearList(){let e=[];this.collectionItems&&this.collectionItems.map((t=>{t.year&&(e.includes(t.year)||e.push(t.year))})),this.ibmpYearsInputField.items=[...e.sort()].reverse()},designatedAreaFilter(e){return console.log("designatedFilter: ",e),!this.designatedAreaInputField.selected||null===this.designatedAreaInputField.selected||0===this.designatedAreaInputField.selected.length||e.toLowerCase()===this.designatedAreaInputField.selected.toLowerCase()},yearFilter(e){return!this.ibmpYearsInputField.selected||null===this.ibmpYearsInputField.selected||0===this.ibmpYearsInputField.selected.length||this.ibmpYearsInputField.selected.indexOf(e)>=0}},computed:{headers(){return[{text:"Designated Area",align:"start",sortable:!0,value:"designatedArea",filter:this.designatedAreaFilter},{text:"Year",align:"start",sortable:!0,value:"year",filter:this.yearFilter},{text:"Month",align:"start",sortable:!1,value:"month"},{text:"Condensate (02)",align:"start",sortable:!1,value:"condensate02"},{text:"Sweet (61)",align:"start",sortable:!1,value:"sweet61"},{text:"Sour (62)",align:"start",sortable:!1,value:"sour62"},{text:"Asphaltic (63)",align:"start",sortable:!1,value:"asphaltic63"},{text:"Black Wax (64)",align:"start",sortable:!1,value:"blackWax64"},{text:"Yellow Wax (65)",align:"start",sortable:!1,value:"yellowWax65"}]},collectionItems(){let e=[];return this.collection&&this.collection.map((t=>{t.ibmp_line_items.forEach((a=>{let l={};l.year=this.formatYear(t.date),l.month=t.date,l.designatedArea=a.designatedArea,l.condensate02=isNaN(a.condensate02)?a.condensate02:(0,r.Pl)(a.condensate02),l.sweet61=isNaN(a.sweet61)?a.sweet61:this.formatToDollarInt(a.sweet61),l.sour62=isNaN(a.sour62)?a.sour62:this.formatToDollarInt(a.sour62),l.asphaltic63=isNaN(a.asphaltic63)?a.asphaltic63:this.formatToDollarInt(a.asphaltic63),l.blackWax64=isNaN(a.blackWax64)?a.blackWax64:this.formatToDollarInt(a.blackWax64),l.yellowWax65=isNaN(a.yellowWax65)?a.yellowWax65:this.formatToDollarInt(a.yellowWax65),e.push(l)}))})),e}},created(){setTimeout((()=>{this.designatedAreaList(),this.yearList()}),300)},mounted(){const e=this.$route.query.designated_area,t=this.$route.query.years&&this.$route.query.years.split(",");this.designatedAreaInputField.selected=e||null,this.ibmpYearsInputField.selected=t||null}},d=o,c=a(1001),u=a(3453),h=a.n(u),m=a(9391),p=a(3121),g=a(6643),f=a(9049),b=a(4722),v=(0,c.Z)(d,l,s,!1,null,null,null),y=v.exports;h()(v,{VCard:m.Z,VCol:p.Z,VContainer:g.Z,VDataTable:f.Z,VRow:b.Z})}}]);
//# sourceMappingURL=IBMPCollection.6384899a.js.map