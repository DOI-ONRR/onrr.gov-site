{"version":3,"file":"js/IndexZones-legacy.d9bce172.js","mappings":"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","sources":["webpack://onrr-frontend-app-vue/../../../src/components/VGrid/grid.ts","webpack://onrr-frontend-app-vue/../../../src/components/VGrid/VContainer.ts","webpack://onrr-frontend-app-vue/./src/components/collections/IndexZones.vue?97aa","webpack://onrr-frontend-app-vue/src/components/collections/IndexZones.vue","webpack://onrr-frontend-app-vue/./src/components/collections/IndexZones.vue?b532","webpack://onrr-frontend-app-vue/./src/components/collections/IndexZones.vue"],"sourcesContent":["// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-4\"},[_c('v-card',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.collectionItems,\"item-key\":\"title\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('SelectField',{attrs:{\"fields\":_vm.indexZonesInputField}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('MultipleSelectField',{attrs:{\"fields\":_vm.indexZonesYearsInputField}})],1)],1)],1)]},proxy:true},{key:\"item.index_zone\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(item.index_zone)+\" (\"+_vm._s(item.abbreviation)+\") \")]}},{key:\"item.year\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(item.year)+\" \")]}},{key:\"item.month\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.formatMonth(item.month))+\" \")]}},{key:\"item.price\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.formatToDollarInt(item.price))+\" \")]}}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n   <div class=\"pt-4\">\n        <v-card>\n            <v-data-table\n                :headers=\"headers\"\n                :items=\"collectionItems\"\n                item-key=\"title\">\n                <template v-slot:top>\n                    <v-container>\n                        <v-row>\n                            <v-col cols=\"12\" sm=\"6\">\n                                <SelectField :fields=\"indexZonesInputField\"></SelectField>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\">\n                                <MultipleSelectField :fields=\"indexZonesYearsInputField\"></MultipleSelectField>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </template>\n                <template v-slot:[`item.index_zone`]=\"{ item }\">\n                    {{ item.index_zone }} ({{ item.abbreviation }})\n                </template>\n                <template v-slot:[`item.year`]=\"{ item }\">\n                    {{ item.year }}\n                </template>\n                <template v-slot:[`item.month`]=\"{ item }\">\n                    {{ formatMonth(item.month) }}\n                </template>\n                <template v-slot:[`item.price`]=\"{ item }\">\n                    {{ formatToDollarInt(item.price) }}\n                </template>\n            </v-data-table>\n        </v-card>\n    </div>\n</template>\n\n<script>\nimport {\n  getYear,\n  getMonth,\n  formatToDollarInt\n} from '@/js/utils'\nconst SelectField = () => import(/* webpackChunkName: \"SelectField\" */ '@/components/inputs/SelectField')\nconst MultipleSelectField = () => import(/* webpackChunkName: \"MultipleSelectField\" */ '@/components/inputs/MultipleSelectField')\n\nexport default {\n  name: 'IndexZonesCollection',\n  data: () => ({\n    indexZonesInputField: {\n      items: [],\n      label: 'Index Zone',\n      ref: 'indexZoneSelectInput',\n      selected: null,\n      color: 'secondary',\n      icon: 'mdi-chevron-down',\n      params: 'index_zone',\n      clearable: true\n    },\n    indexZonesYearsInputField: {\n      items: [],\n      label: 'All Years',\n      ref: 'indexZoneSelectInput',\n      selected: null,\n      color: 'secondary',\n      icon: 'mdi-chevron-down',\n      params: 'years'\n    }\n  }),\n  props: {\n    collection: [Array, Object]\n  },\n  components: {\n    SelectField,\n    MultipleSelectField\n  },\n  methods: {\n    getMonth: getMonth,\n    getYear: getYear,\n    formatToDollarInt: formatToDollarInt,\n    formatMonth(date) {\n      return getMonth(date, 'long')\n    },\n    formatYear(date) {\n      return getYear(date)\n    },\n    formatPrice(price) {\n      return formatToDollarInt(price)\n    },\n    indexZonesList() {\n        let indexZonesArr = []\n        this.collectionItems && this.collectionItems.map(item => {\n          // console.log('this.collectionItems item: ', item)\n          if (item.index_zone) {\n            if (!indexZonesArr.includes(item.index_zone)) {\n              indexZonesArr.push(item.index_zone)\n            }\n          }            \n        })\n\n        this.indexZonesInputField.items = [...indexZonesArr.sort()]\n    },\n    indexZonesYearList() {\n        let yearsArr = []\n        this.collectionItems && this.collectionItems.map(item => {\n          // console.log('this.collectionItems item: ', item)\n          if (item.year) {\n            if (!yearsArr.includes(item.year)) {\n              yearsArr.push(item.year)\n            }\n          }            \n        })\n\n        this.indexZonesYearsInputField.items = [...yearsArr.sort().reverse()]\n    },\n    indexZonesFilter(value) {\n      // console.log('indexZonesFilter: ', value)\n       if (!this.indexZonesInputField.selected || this.indexZonesInputField.selected === null || this.indexZonesInputField.selected.length === 0) {\n          return true\n       }\n\n      return value.toLowerCase() === this.indexZonesInputField.selected.toLowerCase()\n    },\n    indexZonesYearFilter(value) {\n      // console.log('indexZonesYearFilter: ', value)\n       if (!this.indexZonesYearsInputField.selected || this.indexZonesYearsInputField.selected === null || this.indexZonesYearsInputField.selected.length === 0) {\n          return true\n       }\n\n       return this.indexZonesYearsInputField.selected.indexOf(value) >= 0\n    }\n  },\n  computed: {\n    headers() {\n      return [\n          {\n              text: 'Index Zone',\n              align: 'start',\n              sortable: true,\n              value: 'index_zone',\n              filter: this.indexZonesFilter,\n          },\n          {\n              text: 'Year',\n              align: 'start',\n              sortable: true,\n              value: 'year',\n              filter: this.indexZonesYearFilter,\n          },\n          {\n              text: 'Month',\n              align: 'start',\n              sortable: false,\n              value: 'month',\n          },\n          {\n              text: 'Price',\n              align: 'end',\n              sortable: false,\n              value: 'price',\n          }\n      ]\n    },\n    collectionItems() {\n      let items = []\n      this.collection && this.collection.map(item => {\n        item.index_zones.forEach(zone => {\n          let nObj = {}\n          nObj.index_zone = zone.index_zone\n          nObj.year = this.formatYear(item.date)\n          nObj.month = item.date\n          nObj.price = zone.price\n          nObj.abbreviation = zone.abbreviation\n          items.push(nObj)\n        })\n      })\n\n      return items\n    }\n  },\n  created() {\n    setTimeout(() => {\n      this.indexZonesList()\n      this.indexZonesYearList()\n    }, 300);\n\n  },\n  mounted() {\n    const index_zone = this.$route.query.index_zone\n    const years = this.$route.query.years && this.$route.query.years.split(',')\n    this.indexZonesInputField.selected = index_zone || null\n    this.indexZonesYearsInputField.selected = years || null\n  }\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-39[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexZones.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-39[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexZones.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndexZones.vue?vue&type=template&id=cdc006d2&\"\nimport script from \"./IndexZones.vue?vue&type=script&lang=js&\"\nexport * from \"./IndexZones.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCol,VContainer,VDataTable,VRow})\n"],"names":["VGrid","name","Vue","functional","props","id","String","tag","type","default","render","h","data","children","staticClass","trim","attrs","classes","Object","keys","filter","key","value","startsWith","length","join","domProps","Grid","extend","fluid","Boolean","mergeData","class","Array","concat","_vm","this","_h","$createElement","_c","_self","headers","collectionItems","scopedSlots","_u","fn","indexZonesInputField","indexZonesYearsInputField","proxy","ref","item","_v","_s","index_zone","abbreviation","year","formatMonth","month","formatToDollarInt","price","staticRenderFns","items","label","selected","color","icon","params","clearable","collection","components","SelectField","MultipleSelectField","methods","getMonth","getYear","date","formatYear","formatPrice","indexZonesList","indexZonesArr","indexZonesYearList","yearsArr","indexZonesFilter","toLowerCase","indexZonesYearFilter","computed","text","align","sortable","map","index_zones","forEach","nObj","zone","push","created","setTimeout","mounted","years","component","VCard"],"sourceRoot":""}