"use strict";(self["webpackChunkonrr_frontend_app_vue"]=self["webpackChunkonrr_frontend_app_vue"]||[]).push([[364],{3811:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",[r("v-container",{staticClass:"pa-0"},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("TextField",{attrs:{fields:e.searchInputField},on:{update:function(t){e.onUpdateStore("searchQuery",t),e.$emit("searchUpdateEvent",e.searchInputField.text)}}})],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("SelectField",{attrs:{fields:e.yearSelectField},on:{update:function(t){e.onUpdateStore("year",t),e.$emit("yearUpdateEvent",e.year)}}})],1),r("v-col",{staticClass:"mt-1",attrs:{cols:"12",sm:"4"}},[r("v-chip",[e._v(e._s(e.searchResults&&e.searchResults.length>1?(e.searchResults&&e.searchResults.length)+" items":(e.searchResults&&e.searchResults.length)+" item"))])],1)],1)],1)],1)},a=[],i=r(2478),l=r(8930);const o=()=>r.e(707).then(r.bind(r,392)),n=()=>Promise.all([r.e(860),r.e(248)]).then(r.bind(r,9571));var h={name:"CollectionFilterToolbar",data(){return{year:i.h.collections.year,search:i.h.collections.searchQuery,items:[],searchInputField:{label:"Search",text:i.h.collections.searchQuery,ref:"searchInput",color:"secondary",icon:"mdi-magnify",update:this.onUpdateStore("searchQuery")},yearSelectField:{items:[],label:"Year",ref:"yearSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",clearable:!1}}},props:{collection:{type:[Object,Array]},showToolbar:{type:Boolean},searchResults:{type:Array}},components:{TextField:o,SelectField:n},methods:{onUpdateStore(e,t){i.P.updateCollections(e,t)},getYears(){const e="All Years"!==this.yearSelectField.selected&&this.collection.map((e=>this.getYear(e.date))).sort(((e,t)=>t-e));this.yearSelectField.items=["All Years",...new Set(e)],this.yearSelectField.selected=this.yearSelectField.items[0],this.onUpdateStore("year",this.yearSelectField.items[0])},getYear:l.So},watch:{"$route.query.tab"(){this.onUpdateStore("year",this.$refs.yearSelectInput.value||this.yearSelectField.items[0])}},created(){setTimeout(function(){this.getYears()}.bind(this),500)}},c=h,d=r(1001),u=r(3453),p=r.n(u),m=r(5844),y=r(3121),f=r(6643),v=(r(6699),r(3553)),_=r(6011),S=r(9737),g=(0,v.Z)(_.Z,(0,S.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",(t=>{this.$set(this.errorBag,e._uid,t)}),{immediate:!0}),r={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(s=>{s&&(this.errorBag.hasOwnProperty(e._uid)||(r.valid=t(e)))})):r.valid=t(e),r},validate(){return 0===this.inputs.filter((e=>!e.validate(!0))).length},reset(){this.inputs.forEach((e=>e.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((e=>e.resetValidation())),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find((t=>t._uid===e._uid));if(!t)return;const r=this.watchers.find((e=>e._uid===t._uid));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((e=>e._uid!==t._uid)),this.inputs=this.inputs.filter((e=>e._uid!==t._uid)),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}}),w=r(4722),F=(0,d.Z)(c,s,a,!1,null,null,null),b=F.exports;p()(F,{VChip:m.Z,VCol:y.Z,VContainer:f.Z,VForm:g,VRow:w.Z})}}]);
//# sourceMappingURL=CollectionFilterToolbar.f67d7f4a.js.map