"use strict";(self["webpackChunkonrr_frontend_app_vue"]=self["webpackChunkonrr_frontend_app_vue"]||[]).push([[315],{6428:function(){},9391:function(t,e,i){i.d(e,{Z:function(){return r}});var a=i(2238),s=i(2413),n=i(8084),l=i(3553),r=(0,l.Z)(s.Z,n.Z,a.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...n.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...a.Z.options.computed.classes.call(this)}},styles(){const t={...a.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=s.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},306:function(t,e,i){i.d(e,{EB:function(){return o},Qq:function(){return l},ZB:function(){return r}});var a=i(9391),s=i(5598);const n=(0,s.Ji)("v-card__actions"),l=(0,s.Ji)("v-card__subtitle"),r=(0,s.Ji)("v-card__text"),o=(0,s.Ji)("v-card__title");a.Z},3121:function(t,e,i){i(6699),i(6428);var a=i(144),s=i(5218),n=i(5598);const l=["sm","md","lg","xl"],r=(()=>l.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),o=(()=>l.reduce(((t,e)=>(t["offset"+(0,n.jC)(e)]={type:[String,Number],default:null},t)),{}))(),c=(()=>l.reduce(((t,e)=>(t["order"+(0,n.jC)(e)]={type:[String,Number],default:null},t)),{}))(),u={col:Object.keys(r),offset:Object.keys(o),order:Object.keys(c)};function d(t,e,i){let a=t;if(null!=i&&!1!==i){if(e){const i=e.replace(t,"");a+=`-${i}`}return"col"!==t||""!==i&&!0!==i?(a+=`-${i}`,a.toLowerCase()):a.toLowerCase()}}const h=new Map;e["Z"]=a.Z.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...o,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:i,children:a,parent:n}){let l="";for(const s in e)l+=String(e[s]);let r=h.get(l);if(!r){let t;for(t in r=[],u)u[t].forEach((i=>{const a=e[i],s=d(t,i,a);s&&r.push(s)}));const i=r.some((t=>t.startsWith("col-")));r.push({col:!i||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),h.set(l,r)}return t(e.tag,(0,s.ZP)(i,{class:r}),a)}})},6643:function(t,e,i){i.d(e,{Z:function(){return l}});i(9941),i(6428);var a=i(144);function s(t){return a.Z.extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:i,data:a,children:s}){a.staticClass=`${t} ${a.staticClass||""}`.trim();const{attrs:n}=a;if(n){a.attrs={};const t=Object.keys(n).filter((t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));t.length&&(a.staticClass+=` ${t.join(" ")}`)}return i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),e(i.tag,a,s)}})}var n=i(5218),l=s("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:i,children:a}){let s;const{attrs:l}=i;return l&&(i.attrs={},s=Object.keys(l).filter((t=>{if("slot"===t)return!1;const e=l[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}))),e.id&&(i.domProps=i.domProps||{},i.domProps.id=e.id),t(e.tag,(0,n.ZP)(i,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(s||[])}),a)}})},4722:function(t,e,i){i(6699),i(6428);var a=i(144),s=i(5218),n=i(5598);const l=["sm","md","lg","xl"],r=["start","end","center"];function o(t,e){return l.reduce(((i,a)=>(i[t+(0,n.jC)(a)]=e(),i)),{})}const c=t=>[...r,"baseline","stretch"].includes(t),u=o("align",(()=>({type:String,default:null,validator:c}))),d=t=>[...r,"space-between","space-around"].includes(t),h=o("justify",(()=>({type:String,default:null,validator:d}))),p=t=>[...r,"space-between","space-around","stretch"].includes(t),g=o("alignContent",(()=>({type:String,default:null,validator:p}))),f={align:Object.keys(u),justify:Object.keys(h),alignContent:Object.keys(g)},m={align:"align",justify:"justify",alignContent:"align-content"};function v(t,e,i){let a=m[t];if(null!=i){if(e){const i=e.replace(t,"");a+=`-${i}`}return a+=`-${i}`,a.toLowerCase()}}const y=new Map;e["Z"]=a.Z.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...h,alignContent:{type:String,default:null,validator:p},...g},render(t,{props:e,data:i,children:a}){let n="";for(const s in e)n+=String(e[s]);let l=y.get(n);if(!l){let t;for(t in l=[],f)f[t].forEach((i=>{const a=e[i],s=v(t,i,a);s&&l.push(s)}));l.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),y.set(n,l)}return t(e.tag,(0,s.ZP)(i,{staticClass:"row",class:l}),a)}})},5310:function(t,e,i){i.r(e),i.d(e,{default:function(){return P}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-container",{staticClass:"pa-0 mt-10"},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6"}},[i("TextField",{attrs:{fields:t.searchInputField}})],1)],1),t.searchResults?i("v-row",[i("v-col",{attrs:{cols:"12",sm:"4"}},[i("SelectField",{attrs:{fields:t.categoriesSelectField}})],1),t.tabCategoriesSelectField.items.length>1?i("v-col",{attrs:{cols:"12",sm:"4"}},[i("SelectField",{attrs:{fields:t.tabCategoriesSelectField}})],1):t._e(),t.accordionCategoriesSelectField.items.length>1?i("v-col",{attrs:{cols:"12",sm:"4"}},[i("SelectField",{attrs:{fields:t.accordionCategoriesSelectField}})],1):t._e()],1):t._e(),i("v-row",[i("v-col",[i("div",{staticClass:"text-left mt-4"},[t._v(" Displaying "+t._s(t.visibleItems.length)+" of "+t._s(t.filteredCollectionItems.length)+" contacts ")])]),i("v-col",[i("div",{staticClass:"text-right mb-4"},[i("v-pagination",{attrs:{color:"secondary",length:Math.ceil(t.filteredCollectionItems.length/t.perPage)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])],1)],1),t.visibleItems.length>0?i("div",[i("v-fade-transition",{attrs:{group:"","hide-on-leave":"","leave-absolute":"",origin:"top left"}},t._l(t.visibleItems,(function(e,a){return i("div",{key:a,staticClass:"mb-5"},[i("h2",{staticClass:"collection-category pa-3 mb-3"},[t.searchResults?t._e():i("span",[t._v(" "+t._s(e.header)+" "),null!==e.agency?i("span",[t._v("("+t._s(e.agency)+")")]):t._e(),null!==e.operatorNumber?i("span",[t._v("(Operator #: "+t._s(e.operatorNumber)+")")]):t._e()]),t.searchResults?i("span",[t._v(" "+t._s(e.page)+" "+t._s(e.tab&&"> "+e.tab)+" "+t._s(e.accordion&&"> "+e.accordion)+" "+t._s(e.header&&"> "+e.header)+" "),null!==e.agency?i("span",[t._v("("+t._s(e.agency)+")")]):t._e(),null!==e.operatorNumber?i("span",[t._v("(Operator #: "+t._s(e.operatorNumber)+")")]):t._e()]):t._e()]),i("v-container",{staticClass:"pa-0"},[i("v-row",t._l(e.contacts,(function(e,a){return i("v-col",{key:a,attrs:{cols:"12",sm:"4"}},[e.contact?i("v-card",{staticClass:"text-wrap contact-card",attrs:{elevation:"1"}},[i("v-card-title",{class:[t.formatToSlug(e.role).toLowerCase(),"contact-title"]},[t._v(t._s(e.role))]),i("v-card-text",{staticClass:"pa-4"},[e.contact?i("div",{staticClass:"contact contact-row"},[t._v(t._s(e.contact))]):t._e(),e.email?i("div",{staticClass:"contact-row"},[i("v-icon",{staticClass:"mr-1",attrs:{color:"secondary"}},[t._v("mdi-email")]),i("a",{attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.email))])],1):t._e(),e.phone?i("div",{staticClass:"contact-row"},[i("v-icon",{staticClass:"mr-1",attrs:{color:"secondary"}},[t._v("mdi-phone")]),i("a",{attrs:{href:"tel:"+e.phone}},[t._v(t._s(e.phone))])],1):t._e(),e.fax?i("div",{staticClass:"contact-row"},[i("v-icon",{staticClass:"mr-1",attrs:{color:"secondary"}},[t._v("mdi-fax")]),i("a",{attrs:{href:"tel:"+e.fax}},[t._v(t._s(e.fax))])],1):t._e()])],1):t._e()],1)})),1)],1)],1)})),0)],1):i("div",[t._v("No contacts found.")]),i("v-container",{staticClass:"pa-0"},[i("v-row",[i("v-col",[i("div",{staticClass:"text-left mt-4"},[t._v(" Displaying "+t._s(t.visibleItems.length)+" of "+t._s(t.filteredCollectionItems.length)+" contacts ")])]),i("v-col",[i("div",{staticClass:"text-right mb-4"},[i("v-pagination",{attrs:{color:"secondary",length:Math.ceil(t.filteredCollectionItems.length/t.perPage)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])],1)],1)],1)},s=[],n=(i(6699),i(8930));const l=()=>i.e(707).then(i.bind(i,392)),r=()=>Promise.all([i.e(860),i.e(248)]).then(i.bind(i,9571));var o={name:"ContactsCollection",data(){return{page:1,perPage:5,searchInputField:{label:"Search contacts",text:null,ref:"searchContactsInput",color:"secondary",icon:"mdi-magnify"},categoriesSelectField:{items:[],label:"All Categories",ref:"categoriesSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"category",clearable:!0},tabCategoriesSelectField:{items:[],label:"All Subcategories",ref:"tabCateegoriesSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"topic",clearable:!0},accordionCategoriesSelectField:{items:[],label:"All Subcategories",ref:"accordionCateegoriesSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"subtopic",clearable:!0},filterBy:this.filter,searchResults:!1,contactsByCompanyPage:!1,filteredResults:null,contactsCollection:null}},props:{collection:[Object,Array],collectionName:String,collectionLayout:String,collectionPage:String,collectionTab:String,collectionAccordion:String,showToolbar:Boolean,filter:String},components:{TextField:l,SelectField:r},methods:{formatToSlug:n.lx,groupBy:n.vM,resetPagination(){return this.page=1},findSearchValue(t){if(null!==t&&void 0!==this.searchInputField.text&&null!==this.searchInputField.text)return this.searchInputField.text.toLowerCase().split(" ").every((e=>t&&t.toLowerCase().includes(e)))},filterProperties(t){const e=t.filter((({page:t,tab:e,accordion:i,letter:a,header:s,operatorNumber:n,companyName:l,agency:r})=>this.findSearchValue(a)||this.findSearchValue(s)||this.findSearchValue(n)||this.findSearchValue(l)||this.findSearchValue(r)||this.findSearchValue(t)||this.findSearchValue(e)||this.findSearchValue(i)));return e||t},filterContacts(t){const e=t.map((t=>({...t,contacts:t.contacts.filter((t=>{if(null!==t.contact)return this.findSearchValue(t.contact)||this.findSearchValue(t.email)||this.findSearchValue(t.role)}))}))).filter((t=>t.contacts.length>0));return e},filterByCategory(t){let e;return null!==this.categoriesSelectField.selected&&(e=t.filter((t=>t.page===this.categoriesSelectField.selected))),e||t},createContactItem(t){let e={};return e.__typename=t.__typename,e.id=t.id,e.status=t.status,e.page=t.page,e.tab=t.tab,e.accordion=t.accordion,e.company=t.company_yn,e.letter=t.letter,e.header=t.header,e.companyName=t.company_name,e.operatorNumber=t.operator_number,e.agency=t.agency,e.contacts=[{contact:t.primary_contact,role:t.primary_role,email:t.email,phone:t.phone,fax:t.fax},{contact:t.contact_2,role:t.role_2,email:t.email_2,phone:t.phone_2},{contact:t.contact_3,role:t.role_3,email:t.email_3,phone:t.phone_3},{contact:t.contact_4,role:t.role_4,email:t.email_4,phone:t.phone_4},{contact:t.contact_5,role:t.role_5,email:t.email_5,phone:t.phone_5},{contact:t.contact_6,role:t.role_6,email:t.email_6,phone:t.phone_6}],e},filterByPage(t){const e=this.collectionPage||this.categoriesSelectField.selected,i=null!==e?t.filter((t=>t.page===e)):t;return i},filterByTab(t){const e=this.collectionTab||this.tabCategoriesSelectField.selected,i=null!==e?t.filter((t=>t.tab===e)):t;return i},filterByAccordion(t){const e=this.collectionAccordion||this.accordionCategoriesSelectField.selected,i=null!==e?t.filter((t=>t.accordion===e)):t;return i},categoryItems(){let t=[];this.collection&&this.collection.map((e=>{t.includes(e.page)||t.push(e.page)})),this.categoriesSelectField.items=t}},computed:{formattedContactsCollection(){let t=[];return this.collection&&this.collection.map((e=>{let i=this.createContactItem(e);t.push(i)})),t},visibleItems(){return this.filteredCollectionItems.slice((this.page-1)*this.perPage,this.page*this.perPage)},filteredCollectionItems(){this.resetPagination();const t=this.collectionPage||this.searchResults?this.filterByPage(this.filterByTab(this.filterByAccordion(this.formattedContactsCollection))):this.filterProperties(this.formattedContactsCollection);if(null===this.categoriesSelectField.selected&&null===this.searchInputField.text)return this.formattedContactsCollection;if(console.log("filteredList yo ------\x3e ",t),this.searchInputField.text){const e=this.filterProperties(t);return 0===e.length?this.filterContacts(t):this.filterProperties(t)}return t||this.formattedContactsCollection}},watch:{"searchInputField.text":function(){return this.categoryItems()},"categoriesSelectField.selected":function(t){let e=[];this.collection&&this.collection.map((i=>{i.page===t&&(e.includes(i.tab)||e.push(i.tab))})),this.tabCategoriesSelectField.items=e},"tabCategoriesSelectField.selected":function(t){let e=[];this.collection&&this.collection.map((i=>{i.tab===t&&(e.includes(i.accordion)||e.push(i.accordion))})),this.accordionCategoriesSelectField.items=e}},created(){setTimeout((()=>{this.categoryItems()}),250);const t="search-results"===this.$route.params.slug2,e="company-contacts"===this.$route.params.slug2;t&&(this.searchResults=!0),e&&(this.contactsByCompanyPage=!0)},mounted(){setTimeout((()=>{this.categoriesSelectField.selected=this.$route.query.category?decodeURI(this.$route.query.category):null,this.tabCategoriesSelectField.selected=this.$route.query.topic?decodeURI(this.$route.query.topic):null,this.accordionCategoriesSelectField.selected=this.$route.query.subtopic?decodeURI(this.$route.query.subtopic):null,this.searchInputField.text=this.$route.query.q?decodeURI(this.$route.query.q):""}),250)}},c=o,u=i(1001),d=i(3453),h=i.n(d),p=i(9391),g=i(306),f=i(3121),m=i(6643),v=i(51),y=i(9639),b=i(3286),_=i(2139),C=i(5505),S=i(8250),x=i(171),$=i(3553),I=(0,$.Z)(C.Z,(0,S.Z)({onVisible:["init"]}),x.Z).extend({name:"v-pagination",directives:{Resize:_.Z},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const i=e%2===0?1:0,a=Math.floor(e/2),s=this.length-a+1+i;if(this.value>a&&this.value<s){const t=1,e=this.length,s=this.value-a+2,n=this.value+a-2-i,l=s-1===t+1?2:"...",r=n+1===e-1?n+1:"...";return[1,l,...this.range(s,n),r,this.length]}if(this.value===a){const t=this.value+a-1-i;return[...this.range(1,t),"...",this.length]}if(this.value===s){const t=this.value-a+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,a),"...",...this.range(s,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((()=>this.selected=this.value),100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const i=[];t=t>0?t:1;for(let a=t;a<=e;a++)i.push(a);return i},genIcon(t,e,i,a,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":s},on:i?{}:{click:a}},[t(b.Z,[e])])])},genItem(t,e){const i=e===this.value&&(this.color||"primary"),a=e===this.value,s=a?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(s,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map(((e,i)=>t("li",{key:i},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)])))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),F=i(4722),w=(0,u.Z)(c,a,s,!1,null,"6ea0f5b6",null),P=w.exports;h()(w,{VCard:p.Z,VCardText:g.ZB,VCardTitle:g.EB,VCol:f.Z,VContainer:m.Z,VFadeTransition:v.Z5,VIcon:y.Z,VPagination:I,VRow:F.Z})}}]);
//# sourceMappingURL=Contacts.04146145.js.map