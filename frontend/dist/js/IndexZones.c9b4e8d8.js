"use strict";(self["webpackChunkonrr_frontend_app_vue"]=self["webpackChunkonrr_frontend_app_vue"]||[]).push([[567],{7305:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-4"},[n("v-card",[n("v-data-table",{attrs:{headers:e.headers,items:e.collectionItems,"item-key":"title"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("SelectField",{attrs:{fields:e.indexZonesInputField}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("MultipleSelectField",{attrs:{fields:e.indexZonesYearsInputField}})],1)],1)],1)]},proxy:!0},{key:"item.index_zone",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.index_zone)+" ("+e._s(n.abbreviation)+") ")]}},{key:"item.year",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.year)+" ")]}},{key:"item.month",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatMonth(n.month))+" ")]}},{key:"item.price",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatToDollarInt(n.price))+" ")]}}],null,!0)})],1)],1)},s=[],r=(n(6699),n(8930));const o=()=>Promise.all([n.e(921),n.e(248)]).then(n.bind(n,2627)),l=()=>n.e(486).then(n.bind(n,1622));var a={name:"IndexZonesCollection",data:()=>({indexZonesInputField:{items:[],label:"Index Zone",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"index_zone",clearable:!0},indexZonesYearsInputField:{items:[],label:"All Years",ref:"indexZoneSelectInput",selected:null,color:"secondary",icon:"mdi-chevron-down",params:"years"}}),props:{collection:[Array,Object]},components:{SelectField:o,MultipleSelectField:l},methods:{getMonth:r.jw,getYear:r.So,formatToDollarInt:r.Pl,formatMonth(e){return(0,r.jw)(e,"long")},formatYear(e){return(0,r.So)(e)},formatPrice(e){return(0,r.Pl)(e)},indexZonesList(){let e=[];this.collectionItems&&this.collectionItems.map((t=>{t.index_zone&&(e.includes(t.index_zone)||e.push(t.index_zone))})),this.indexZonesInputField.items=[...e.sort()]},indexZonesYearList(){let e=[];this.collectionItems&&this.collectionItems.map((t=>{t.year&&(e.includes(t.year)||e.push(t.year))})),this.indexZonesYearsInputField.items=[...e.sort().reverse()]},indexZonesFilter(e){return!this.indexZonesInputField.selected||null===this.indexZonesInputField.selected||0===this.indexZonesInputField.selected.length||e.toLowerCase()===this.indexZonesInputField.selected.toLowerCase()},indexZonesYearFilter(e){return!this.indexZonesYearsInputField.selected||null===this.indexZonesYearsInputField.selected||0===this.indexZonesYearsInputField.selected.length||this.indexZonesYearsInputField.selected.indexOf(e)>=0}},computed:{headers(){return[{text:"Index Zone",align:"start",sortable:!0,value:"index_zone",filter:this.indexZonesFilter},{text:"Year",align:"start",sortable:!0,value:"year",filter:this.indexZonesYearFilter},{text:"Month",align:"start",sortable:!1,value:"month"},{text:"Price",align:"start",sortable:!1,value:"price"}]},collectionItems(){let e=[];return this.collection&&this.collection.map((t=>{t.index_zones.forEach((n=>{let i={};i.index_zone=n.index_zone,i.year=this.formatYear(t.date),i.month=t.date,i.price=n.price,i.abbreviation=n.abbreviation,e.push(i)}))})),e}},created(){setTimeout((()=>{this.indexZonesList(),this.indexZonesYearList()}),300)},mounted(){const e=this.$route.query.index_zone,t=this.$route.query.years&&this.$route.query.years.split(",");this.indexZonesInputField.selected=e||null,this.indexZonesYearsInputField.selected=t||null}},d=a,c=n(1001),u=n(3453),h=n.n(u),p=n(9391),m=n(3121),x=n(6643),Z=n(9049),f=n(4722),v=(0,c.Z)(d,i,s,!1,null,null,null),I=v.exports;h()(v,{VCard:p.Z,VCol:m.Z,VContainer:x.Z,VDataTable:Z.Z,VRow:f.Z})}}]);
//# sourceMappingURL=IndexZones.c9b4e8d8.js.map