{"version":3,"file":"js/Rulemakings.cfed262f.js","mappings":"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","sources":["webpack://onrr-frontend-app-vue/./src/components/collections/Rulemakings.vue?5f5f","webpack://onrr-frontend-app-vue/src/components/collections/Rulemakings.vue","webpack://onrr-frontend-app-vue/./src/components/collections/Rulemakings.vue?0c34","webpack://onrr-frontend-app-vue/./src/components/collections/Rulemakings.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-4\"},[_c('v-card',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.collection,\"item-key\":\"title\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('MultipleSelectField',{attrs:{\"fields\":_vm.topicsInputField}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('TextField',{attrs:{\"fields\":_vm.titleInputField}})],1)],1)],1)]},proxy:true},{key:\"item.rule_title\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('a',{attrs:{\"href\":item.webpage_link}},[_vm._v(_vm._s(item.rule_title))]),_c('br'),(item.informal_title)?_c('span',[_vm._v(\"\\\"\"+_vm._s(item.informal_title)+\"\\\"\")]):_vm._e()]}},{key:\"item.date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.formatNiceDate(item.date))+\" \")]}},{key:\"item.commodity_subject_matter\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.getTopics(item.commodity_subject_matter))+\" \")]}}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"pt-4\">\n        <v-card>\n            <v-data-table\n                :headers=\"headers\"\n                :items=\"collection\"\n                item-key=\"title\">\n                <template v-slot:top>\n                    <v-container>\n                        <v-row>\n                            <v-col cols=\"12\" sm=\"6\">\n                                <MultipleSelectField :fields=\"topicsInputField\"></MultipleSelectField>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\">\n                                <TextField :fields=\"titleInputField\"></TextField>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </template>\n                <template v-slot:[`item.rule_title`]=\"{ item }\">\n                    <a :href=\"item.webpage_link\">{{ item.rule_title }}</a><br>\n                    <span v-if=\"item.informal_title\">\"{{ item.informal_title }}\"</span>\n                </template>\n                <template v-slot:[`item.date`]=\"{ item }\">\n                    {{ formatNiceDate(item.date) }}\n                </template>\n                <template v-slot:[`item.commodity_subject_matter`]=\"{ item }\">\n                    {{ getTopics(item.commodity_subject_matter) }}\n                </template>\n            </v-data-table>\n        </v-card>\n    </div>\n</template>\n\n<script>\nconst MultipleSelectField = () => import(/* webpackChunkName: \"MultipleSelectField\" */ '@/components/inputs/MultipleSelectField')\nconst TextField = () => import(/* webpackChunkName: \"TextField\" */ '@/components/inputs/TextField')\n\nimport {\n  getFullDate,\n  getYear,\n  getDay,\n  getMonth\n} from '@/js/utils'\n\nexport default {\n    name: 'RulemakingsCollection',\n    data: () => ({\n        titleInputField: {\n            label: 'Search',\n            text: '',\n            ref: 'searchInput',\n            color: 'secondary',\n            icon: 'mdi-magnify',\n        },\n        topicsInputField: {\n            items: [],\n            label: 'All Topics',\n            ref: 'topicSelectInput',\n            selected: null,\n            color: 'secondary',\n            icon: 'mdi-chevron-down',\n            params: 'topic'\n        }\n    }),\n    components: {\n        MultipleSelectField,\n        TextField\n    },\n    props: {\n        collection: [Array, Object]\n    },\n    methods: {\n        getFullDate: getFullDate,\n        getYear: getYear,\n        getMonth: getMonth,\n        getDay: getDay,\n        topicList() {\n            let topicArr = []\n            this.collection.map(item => {\n                if (item.commodity_subject_matter && item.commodity_subject_matter.length > 0) {\n                item.commodity_subject_matter.map(topic => {\n                    if (!topicArr.includes(topic)) {\n                    topicArr.push(topic)\n                    }\n                })\n                } else if (!topicArr.includes(item)) {\n                    topicArr.push(item)\n                }\n                \n            })\n\n            this.topicsInputField.items = [...topicArr.sort()]\n        },\n        getTopics(topicsArr) {\n            let topics\n            if(topicsArr.length > 1) {\n                topics = topicsArr.join(', ')\n            } else {\n                topics = topicsArr[0]\n            }\n            return topics\n        },\n        titleFilter(value) {\n            if (!this.titleInputField.text) {\n                return true\n            }\n\n            return value.toLowerCase().includes(this.titleInputField.text.toLowerCase())\n        },\n        topicsFilter(value) {\n            if (!this.topicsInputField.selected || this.topicsInputField.selected === null || this.topicsInputField.selected.length === 0) {\n                return true\n            }\n\n            return value.some(item => this.topicsInputField.selected.indexOf(item) >= 0)\n        },\n        formatNiceDate(d) {\n            return `${ getMonth(d, 'numeric') }/${ getDay(d, 'numeric') }/${ getYear(d) }`\n        }\n    },\n    computed: {\n        headers()  {\n            return [\n                {\n                    text: 'Final Publication Date',\n                    align: 'start',\n                    sortable: true,\n                    value: 'final_publication_date',\n                    // filter: this.titleFilter,\n                },\n                {\n                    text: 'RIN',\n                    align: 'start',\n                    sortable: true,\n                    value: 'rin'\n                },\n                {\n                    text: 'Rule Title',\n                    align: 'start',\n                    sortable: true,\n                    value: 'rule_title',\n                    filter: this.titleFilter,\n                },\n                {\n                    text: 'Topics',\n                    align: 'start',\n                    sortable: false,\n                    value: 'commodity_subject_matter',\n                    filter: this.topicsFilter,\n                }\n            ]\n        }\n    },\n    created() {\n        setTimeout(function () { this.topicList() }.bind(this), 500)\n    },\n    mounted() {\n        const topics = this.$route.query.topic.split(',')\n        this.topicsInputField.selected = topics || null\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-39[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rulemakings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-39[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rulemakings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rulemakings.vue?vue&type=template&id=994e88de&scoped=true&\"\nimport script from \"./Rulemakings.vue?vue&type=script&lang=js&\"\nexport * from \"./Rulemakings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"994e88de\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCol,VContainer,VDataTable,VRow})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","headers","collection","scopedSlots","_u","key","fn","topicsInputField","titleInputField","proxy","ref","item","webpage_link","_v","_s","rule_title","informal_title","_e","formatNiceDate","date","getTopics","commodity_subject_matter","staticRenderFns","MultipleSelectField","TextField","name","data","label","text","color","icon","items","selected","params","components","props","methods","getFullDate","getYear","getMonth","getDay","topicArr","topics","titleFilter","topicsFilter","computed","align","sortable","value","filter","setTimeout","component","VCard"],"sourceRoot":""}